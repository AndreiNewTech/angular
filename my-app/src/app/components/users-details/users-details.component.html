

<div class="users-details">
  <app-users-select [users]="users" (selectUserEvent)="handleSelectuserEvent($event)"></app-users-select>
  <app-user-details [selectedUser]="selectedUser" ></app-user-details>

  <!-- Create user form -->


  <form class="user-form"  #form="ngForm" action="" (submit)="handleSubmit()">
    <div class="input-container">
      <label for="name">Name</label>
      <input type="text" name="name" id="name"
        (blur)="handleInputBlur()"
        [(ngModel)]="userForm.name"
        required
        minlength="4"
        #name="ngModel"
      >
    </div>

    <div *ngIf="name.invalid && (name.dirty || name.touched)">
      <small *ngIf="name.errors?.['required']" class="error-message">Name is required.</small>
      <small *ngIf="name.errors?.['minlength'] && nameInputBlurred" class="error-message">Name is too short.</small>
    </div>

    <div class="input-container">
      <label for="surname">Surname</label>
      <input type="text" name="surname" id="surname"
        [(ngModel)]="userForm.surname"
        required
      >
    </div>

    <div class="input-container">
      <label for="address">Address</label>
      <input type="text" name="address" id="address"
      [(ngModel)]="userForm.address"
    > 
    </div>

    <div class="input-container">
      <label for="age">Age</label>
      <input type="number" name="age" id="age"
      [(ngModel)]="userForm.age"
      min="18"
    >
    </div>

    <div class="input-container">
      <label for="profession">Profession</label>
      <input type="text" name="profession" id="profession"
      [(ngModel)]="userForm.profession"
      required
    >
    </div>





    <!-- Extra details -->

    <div class="user-form__extra-details" (click)="handleAddExtraDetails()">
      Add extra details <span *ngIf="addFormExtraDetails">&uarr;</span>
      <span *ngIf="!addFormExtraDetails">&darr;</span>
            <!-- Extra details -->

        <div *ngIf="addFormExtraDetails">
          <div  class="input-container">
            <label for="hobbies">Hobbies</label>
            <input type="text" name="hobbies" id="hobies"
              [(ngModel)]="userForm.hobbies"
              min="18"
            >
          </div>
        </div>
    </div>
    

    <div class="button-container">
      <button [disabled]="!form.valid" class="submit-button">
        Submit
      </button>
  
    </div>



  </form>
  {{ form.value | json }}



</div>